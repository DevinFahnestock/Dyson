{"ast":null,"code":"var _jsxFileName = \"/Users/devinwall/git/Dyson/packages/frontend/src/components/PlanetTile/PlanetTile.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./styles.css\";\nimport UpgradeButton from \"./Buttons/UpgradeButton\";\nimport utc from \"dayjs/plugin/utc\";\nimport dayjs from \"dayjs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndayjs.extend(utc);\n\nconst PlanetTile = _ref => {\n  _s();\n\n  let {\n    planet,\n    upgradeClick\n  } = _ref;\n  const upgradeFinishedTime = dayjs.utc(planet.upgradeFinishedTime);\n  const [upgradeTimeLeft, setUpgradeTimeLeft] = useState(upgradeFinishedTime.subtract(dayjs.utc()));\n  useEffect(() => {\n    let timer = null;\n    console.log(planet);\n\n    if (planet.upgrading) {\n      timer = setInterval(() => {\n        setUpgradeTimeLeft(upgradeFinishedTime.subtract(dayjs.utc()));\n      }, 1000);\n    }\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [planet === null || planet === void 0 ? void 0 : planet.upgradeFinishedTime]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"PlanetTile\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Definition\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: planet.imgsrc,\n        alt: \"Planet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: planet.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Level \", planet.level, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(UpgradeButton, {\n          text: !planet.upgrading ? \"Upgrade\" : upgradeTimeLeft.format(\"HH:mm:ss\"),\n          onClick: upgradeClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PlanetTile, \"8mQhNDq9b+n9rUYq+qsDvxFyXpk=\");\n\n_c = PlanetTile;\nexport default PlanetTile;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlanetTile\");","map":{"version":3,"names":["React","useEffect","useState","UpgradeButton","utc","dayjs","extend","PlanetTile","planet","upgradeClick","upgradeFinishedTime","upgradeTimeLeft","setUpgradeTimeLeft","subtract","timer","console","log","upgrading","setInterval","clearInterval","imgsrc","name","level","format"],"sources":["/Users/devinwall/git/Dyson/packages/frontend/src/components/PlanetTile/PlanetTile.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport \"./styles.css\"\nimport UpgradeButton from \"./Buttons/UpgradeButton\"\n\nimport utc from \"dayjs/plugin/utc\"\nimport dayjs from \"dayjs\"\n\ndayjs.extend(utc)\n\nconst PlanetTile = ({ planet, upgradeClick }) => {\n  const upgradeFinishedTime = dayjs.utc(planet.upgradeFinishedTime)\n\n  const [upgradeTimeLeft, setUpgradeTimeLeft] = useState(upgradeFinishedTime.subtract(dayjs.utc()))\n\n  useEffect(() => {\n    let timer = null\n    console.log(planet)\n    if (planet.upgrading) {\n      timer = setInterval(() => {\n        setUpgradeTimeLeft(upgradeFinishedTime.subtract(dayjs.utc()))\n      }, 1000)\n    }\n    return () => {\n      clearInterval(timer)\n    }\n  }, [planet?.upgradeFinishedTime])\n\n  return (\n    <div className=\"PlanetTile\">\n      <div className=\"Definition\">\n        <img src={planet.imgsrc} alt=\"Planet\" />\n        <h3>{planet.name}</h3>\n        <p>\n          Level {planet.level}\n          <br />\n          <UpgradeButton text={!planet.upgrading ? \"Upgrade\" : upgradeTimeLeft.format(\"HH:mm:ss\")} onClick={upgradeClick} />\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default PlanetTile\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,cAAP;AACA,OAAOC,aAAP,MAA0B,yBAA1B;AAEA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEAA,KAAK,CAACC,MAAN,CAAaF,GAAb;;AAEA,MAAMG,UAAU,GAAG,QAA8B;EAAA;;EAAA,IAA7B;IAAEC,MAAF;IAAUC;EAAV,CAA6B;EAC/C,MAAMC,mBAAmB,GAAGL,KAAK,CAACD,GAAN,CAAUI,MAAM,CAACE,mBAAjB,CAA5B;EAEA,MAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCV,QAAQ,CAACQ,mBAAmB,CAACG,QAApB,CAA6BR,KAAK,CAACD,GAAN,EAA7B,CAAD,CAAtD;EAEAH,SAAS,CAAC,MAAM;IACd,IAAIa,KAAK,GAAG,IAAZ;IACAC,OAAO,CAACC,GAAR,CAAYR,MAAZ;;IACA,IAAIA,MAAM,CAACS,SAAX,EAAsB;MACpBH,KAAK,GAAGI,WAAW,CAAC,MAAM;QACxBN,kBAAkB,CAACF,mBAAmB,CAACG,QAApB,CAA6BR,KAAK,CAACD,GAAN,EAA7B,CAAD,CAAlB;MACD,CAFkB,EAEhB,IAFgB,CAAnB;IAGD;;IACD,OAAO,MAAM;MACXe,aAAa,CAACL,KAAD,CAAb;IACD,CAFD;EAGD,CAXQ,EAWN,CAACN,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEE,mBAAT,CAXM,CAAT;EAaA,oBACE;IAAK,SAAS,EAAC,YAAf;IAAA,uBACE;MAAK,SAAS,EAAC,YAAf;MAAA,wBACE;QAAK,GAAG,EAAEF,MAAM,CAACY,MAAjB;QAAyB,GAAG,EAAC;MAA7B;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,UAAKZ,MAAM,CAACa;MAAZ;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAA,qBACSb,MAAM,CAACc,KADhB,eAEE;UAAA;UAAA;UAAA;QAAA,QAFF,eAGE,QAAC,aAAD;UAAe,IAAI,EAAE,CAACd,MAAM,CAACS,SAAR,GAAoB,SAApB,GAAgCN,eAAe,CAACY,MAAhB,CAAuB,UAAvB,CAArD;UAAyF,OAAO,EAAEd;QAAlG;UAAA;UAAA;UAAA;QAAA,QAHF;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAaD,CA/BD;;GAAMF,U;;KAAAA,U;AAiCN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}